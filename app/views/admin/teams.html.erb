<% if user_signed_in? && current_user.isAdmin? %>
	<main class="wrapper" id="sidenav-container">
    <%= render partial: 'sidenav', :locals => {:sect => "teams"} %>
    <section id="teams-admin">
      <header>
        <button type="button" class="sidenav-toggler" onclick="toggleSideNav()">
          <i class="fa fa-caret-left show-left"></i> 
          <i class="fa fa-navicon"></i> 
          <i class="fa fa-caret-right show-right"></i>
        </button>
        <h2>Teams <i class="fa fa-users"></i></h2>
        <button type="button" class="add-btn show-add-modal" onclick="activate_modal(0)">
          <i class="fa fa-plus"></i> New Team
        </button>
        <%= admin_notice(@teams, "teams", notice) %>
      </header>

      <div class="outer-border-hidden">
        <ul class="pokeballs-grid pokeballs-grid-lg">
        	<% balls = pokelist_lg %>
					<% @teams.each do |team| %>
            <li>
            	<%= button_to team, method: :delete, :class => "release show-delete-modal" , :type => "button", form: {:onsubmit => "return ask_modal(-#{team.id});"}, :id => "-#{team.id}" do %>
            		<i class="fa fa-times"></i>
            	<% end %>
            	<%= content_tag :span, "", :class => balls[team.id % 20] %>
            	<%= team.name %>
              <%= content_tag :a, 'Rename', :href => "javascript:void(0)", :onclick => "activate_modal(#{team.id})", :class => "rename edit-link show-edit-modal" %>
            </li>
						<%= content_tag :div, :class => "modal", :id => team.id do -%>
							<div class="modal-content">
				        <%= form_for(team) do |f| %>
			            <div class="modal-header">
			              <%= content_tag :span, 'x', :class => "modal-close", :onclick => "deactivate_modal(#{team.id})" %>
			              <h3 class="modal-title">Rename team</h3>
			            </div>
			            <div class="modal-body">
			              <label for="team-name">Team Name:</label>
			              <%= f.text_field :name, :tabindex => "1", :required => "required" ,:class=>"form-control"%>
			            </div>
			            <div class="modal-footer">
			              <button name="submit" type="submit" id="contact-submit" data-submit="...Sending" class="modal-btn bg-green">Save Changes</button>
			            </div>
				        <% end %>
						  </div>
						<% end %>
          <% end %>
        </ul>
      </div>
    </section>
	</main>
	<div class="modal" id="0">
		<div class="modal-content">
			<%= form_for(@team, :html => {:class => "reserve"}) do |f| %>
		    <div class="modal-header">
			    <span class="modal-close" onclick="deactivate_modal(0)">&times;</span>
			    <h3 class="modal-title">Add new team</h3>
		    </div>
		    <div class="modal-body">
	        <label for="team-name">Team Name:</label>
	        <%= f.text_field :name, :required => "required", :class=> "form-control" %>
		    </div>
		    <div class="modal-footer">
	        <button name="submit" type="submit" id="contact-submit" data-submit="...Sending" class="modal-btn bg-blue">Add team</button>
		    </div>
			<% end %>
	  </div>
	</div>
	<div class="modal" id="remove_access">
	    <div class="modal-confirm">
	    	<div class="modal-header">
		        <button type="button" class="modal-close" onclick="cancel_modal()">&times;</button>
		        <h3 class="modal-title"><i class="fa fa-trash"></i> Delete</h3>
		    </div>
		    <div class="modal-body">
		        <p class="modal-text">Are you sure you want to delete this team?</p>
		    </div>
		    <div class="modal-footer">
		        <button type="button" class="modal-btn bg-red" onclick="confirm_modal()">Delete</button>
		        <button type="button" class="modal-btn" onclick="cancel_modal()">Cancel</button>
		    </div>
		</div>
	</div>
<% else %>
	<%= render 'error' %>
<% end %>